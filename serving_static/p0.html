<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>big whop</title>
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
  <script src="{{ url_for('static', filename='jquery-1.11.3/jquery.min.js') }}"></script>

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>

<body>  

  <div class="navbar-fixed">
    <ul id="dropdown1" class="dropdown-content">
          <li><a href="#!">one</a></li>
          <li><a href="#!">two</a></li>
          <li class="divider"></li>
          <li><a href="#!">three</a></li>
    </ul>
    <nav>
      <div class="nav-wrapper">
        <a href="#!" class="brand-logo">QSpector</a>
        <ul class="right hide-on-med-and-down">
          <li><a href="https://github.com/HUPO-PSI/mzQC">mzQC on GitHub</a></li>
          <li><a class="dropdown-trigger" href="#!" data-target="dropdown1">Examples<i class="material-icons right">arrow_drop_down</i></a></li>
        </ul>
      </div>
    </nav>
    <script>
      $(".dropdown-trigger").dropdown();
    </script>
  </div>



<div class="mzqc-upload-div" id="mzqc-upload-div">
  <h1>{{message}} Welcome to QSpector!</h1>
  <script>
  $(document).on('change', '.btn', function(event) {
    var reader = new FileReader();

    reader.onload = function(event) {
      var jsonObj = JSON.parse(event.target.result);
      alert(jsonObj.mzQC.creationDate);
      $.ajax({
      type: "POST",
      url: "echo",
      data: JSON.stringify(jsonObj.mzQC.runQualities[0].qualityMetrics[6]),
      success: function(resp){
          // alert(resp); // works
          var respObj = resp;
          var ifr = $('<iframe/>', {
              name: 'myiframe',
              id: 'myiframe',
              src: 'data:text/html;charset=utf-8,' + encodeURI(resp),
              width: '600px',
              height: '400px',
              frameborder: "0",
              load: function() {
                  alert("loaded")
              }
          })
          $('.mzqc-upload-div').append(ifr);
          var iframeDocument = document.getElementById('myiframe').contentDocument;
          iframeDocument.open();
          iframeDocument.write(resp);
          iframeDocument.close();
      },
      error: function(resp){
        alert(jsonObj.mzQC.version);
      },
      dataType: "json",
      contentType : "application/json"
    });

    }

    reader.readAsText(event.target.files[0]);
  });
  </script> 

  <form action="#">
    <div class="file-field input-field">
      <div class="btn">
        <span>Read mzQC</span>
        <input type="file">
      </div>
      <div class="file-path-wrapper">
        <input class="file-path validate" type="text">
      </div>
    </div>
  </form>
      
</div>


<div class="container row center-align" id="metric-container">


      <div class="col s12 m6 l4 card" id="c1">
        <div class="card-image waves-effect waves-block waves-light">
            <i class="activator large material-icons">insert_chart</i>
            <!-- <img class="activator" src="https://raw.githubusercontent.com/xvrdm/ggrough/master/man/figures/homepage_eg.png"> -->
        </div>
        <div class="card-content">
          <span class="card-title activator grey-text text-darken-4">Reveal metric plot<i class="material-icons right">more_vert</i></span>
          <p>Don't click me, click the icon</p>
        </div>
        <div class="card-reveal">
          <span class="card-title grey-text text-darken-4">tolp cirtem laeveR<i class="material-icons right">close</i></span>
          <p>Here is some more information about this product that is only revealed once clicked on.</p>
        </div>
      </div>

      <div class="col s12 m6 l4 card" id="c2">
          <div class="card-image waves-effect waves-block waves-light">
              <i class="activator large material-icons">insert_chart</i>
              <!-- <img class="activator" src="https://raw.githubusercontent.com/xvrdm/ggrough/master/man/figures/homepage_eg.png"> -->
          </div>
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4">Reveal metric plot<i class="material-icons right">more_vert</i></span>
            <p>Don't click me, click the icon</p>
          </div>
          <div class="card-reveal">
            <span class="card-title grey-text text-darken-4">tolp cirtem laeveR<i class="material-icons right">close</i></span>
            <p>Here is some more information about this product that is only revealed once clicked on.</p>
          </div>
      </div>

      <div class="col s12 m6 l4 card" id="c3">
            <div class="card-image waves-effect waves-block waves-light">
                <i class="activator large material-icons">insert_chart</i>
                <!-- <img class="activator" src="https://raw.githubusercontent.com/xvrdm/ggrough/master/man/figures/homepage_eg.png"> -->
            </div>
            <div class="card-content">
              <span class="card-title activator grey-text text-darken-4">Reveal metric plot<i class="material-icons right">more_vert</i></span>
              <p>Don't click me, click the icon</p>
            </div>
            <div class="card-reveal">
              <span class="card-title grey-text text-darken-4">tolp cirtem laeveR<i class="material-icons right">close</i></span>
              <p>Here is some more information about this product that is only revealed once clicked on.</p>
            </div>
      </div>



</div>   


<footer class="page-footer">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Footer Content</h5>
          <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
        </div>
        <div class="col l4 offset-l2 s12">
          <h5 class="white-text">Links</h5>
          <ul>
            <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Â© 2019 Copyright Text
      <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
      </div>
    </div>
</footer>
  
</body>

</html> 



